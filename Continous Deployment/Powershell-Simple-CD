# PowerShell script for Continuous Deployment from Git repository

# Define variables
$DEPLOY_DIR = "C:\Path\To\Web\Root"           # Directory where you want to deploy the files
$NON_PUBLIC_REPO = "C:\Path\To\Non\Public"    # Non-public directory for repository clone
$REMOTE_REPO = "https://github.com/YourUsername/YourRepository.git"  # URL of the remote repository

# Clone or update the non-public repository
if (Test-Path $NON_PUBLIC_REPO) {
    Write-Host "Updating existing repository..."
    Set-Location -Path $NON_PUBLIC_REPO
    git pull origin master
} else {
    Write-Host "Cloning repository..."
    git clone $REMOTE_REPO $NON_PUBLIC_REPO
    Set-Location -Path $NON_PUBLIC_REPO
}

# Copy files to deployment directory
Write-Host "Copying files to deployment directory..."
Copy-Item -Recurse -Force -Exclude ".git", ".gitignore" $NON_PUBLIC_REPO\* $DEPLOY_DIR

# Notify successful deployment
Write-Host "Deployment successful!"
